var LPError={IdCardNo:{invalid:"请输入正确的身份证号"},Phone:{invalid:"请输入正确的手机号码"}};
var AppLP=function(){$("#termsOfUse").load(appBase+"/static/common/html/TermsofUse_zh.htm")},LPVueObj=null;$(document).ready(function(){"use strict";LPVueObj=new LPVue,new AppLP});
var LPValidation=function(){};LPValidation.checkAll=function(){var o=!0;o=LPValidation.checkIdCardNo()&&o,(o=LPValidation.checkPhone()&&o)&&LPVueObj.applyNow.enable()},LPValidation.checkIdCardNo=function(){var o=!1,a=$.trim($("#idCardNo").val());return a&&(Validation.isIdentityCardNumber(a)?(LPVueObj.cardNo.show="none",o=!0):(LPVueObj.cardNo.show="block",LPVueObj.cardNo.message=LPError.IdCardNo.invalid)),o},LPValidation.checkPhone=function(){var o=!1,a=$.trim($("#phone").val());return a&&(Validation.isPhoneNumber(a)?(LPVueObj.phone.show="none",o=!0):(LPVueObj.phone.show="block",LPVueObj.phone.message=LPError.Phone.invalid)),o};
var LPVue=function(){this.cardNo=new Vue({el:"#cardNoArea",data:{value:"",show:"none",message:""},methods:{idCardNoBlur:function(){var e=$.trim(this.value);e?Validation.isIdentityCardNumber(e)?(this.show="none",LPValidation.checkAll()):(this.show="block",this.message=LPError.IdCardNo.invalid,LPVueObj.applyNow.disable()):(this.show="none",LPVueObj.applyNow.disable())},idCardNoInput:function(){var e=$.trim(this.value);e&&18==e.length?(e.indexOf("x")>0&&(this.value=e.toUpperCase()),LPValidation.checkAll()):LPVueObj.applyNow.disable()}}}),this.phone=new Vue({el:"#phoneArea",data:{value:"",show:"none",message:""},methods:{phoneBlur:function(){var e=$.trim(this.value);e?Validation.isPhoneNumber(e)?(this.show="none",LPValidation.checkAll()):(this.show="block",this.message=LPError.Phone.invalid,LPVueObj.applyNow.disable()):(this.show="none",LPVueObj.applyNow.disable())},phoneInput:function(){var e=$.trim(this.value);e&&11==e.length?LPValidation.checkAll():LPVueObj.applyNow.disable()}}}),this.applyNow=new Vue({el:"#applyNowArea",methods:{disable:function(){$("#applyNow").addClass("disabled")},enable:function(){$("#applyNow").removeClass("disabled")},clickApplyNow:function(){alert("Hello Vue.js!")}}})};
var Validation=function(){};Validation.regPhoneNumber=/^1\d{10}$/,Validation.check=function(n,r){return n.test(r)},Validation.isPhoneNumber=function(n){return Validation.check(Validation.regPhoneNumber,n)},Validation.isIdentityCardNumber=function(n){var r,t=!0;if(null==n||0==n.length)return!1;if(18==n.length){var i=n.substring(0,17),e=n.substring(17,18),a=parseInt(n.substring(6,10)),u=parseInt(n.substring(10,12)),s=parseInt(n.substring(12,14));!(function(n){var r="0123456789",t=0;"0x"==(n=n.toString()).substring(0,2)?(r="0123456789abcdefABCDEF",t=2):"0"==n.charAt(0)?(r="01234567",t=1):"-"==n.charAt(0)&&(t=1);for(var i=t;i<n.length;i++)if(-1==r.indexOf(n.substring(i,i+1)))return!1;return!0}(i)&&function(n){return!("X"!=n&&isNaN(n))}(e)&&function(n,r){for(var t=n+r,i=0,e=2;e<=18;e++)i+=t.slice(-e).substr(0,1)*(Math.pow(2,e-1)%11);return(12-i%11)%11==("X"==r?10:r)}(i,e))||isNaN(a)||isNaN(u)||isNaN(s)||!function(n,r,t){if(r<1||r>12)return!1;if(n<1||n>31)return!1;if((4==r||6==r||9==r||11==r)&&31==n)return!1;if(2==r){var i=t%4==0&&(t%100!=0||t%400==0);if(n>29||29==n&&!i)return!1}return!0}(s,u,a)?t=!1:(r=new Date(a,u-1,s),a+"/"+u+"/"+s)}else t=!1;var o=new Date;return null!=r&&r>o&&(t=!1),t};